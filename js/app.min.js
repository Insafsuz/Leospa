const iconMenu=document.querySelector(".icon-menu"),menuHeader=document.querySelector(".menu-header"),body=document.querySelector("body");iconMenu.addEventListener("click",(function(e){iconMenu.classList.toggle("active"),menuHeader.classList.toggle("active"),body.classList.toggle("lock")})),window.addEventListener("scroll",(function(){const e=document.querySelector(".header");window.pageYOffset>150?e.classList.add("fixed"):e.classList.remove("fixed")}));const menuLinks=document.querySelectorAll(".menu-header__link[data-goto]");if(menuLinks.length>0){function onMenuLinkClick(e){const t=e.target;if(t.dataset.goto&&document.querySelector(t.dataset.goto)){const s=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;iconMenu.classList.contains("active")&&(iconMenu.classList.remove("active"),menuHeader.classList.remove("active"),body.classList.remove("lock")),t.classList.add("active"),window.scrollTo({top:s,behavior:"smooth"}),e.preventDefault()}}menuLinks.forEach(e=>{e.addEventListener("click",onMenuLinkClick)})}const slider=document.querySelector(".about__slider");let mySwiper;function mobileSlider(){window.innerWidth<=1024&&"false"==slider.dataset.mobile&&(mySwiper=new Swiper(slider,{autoplay:!0,loop:!0,speed:400,slidesPerView:4,breakpoints:{320:{slidesPerView:1,spaceBetween:5},375:{slidesPerView:2,spaceBetween:5},768:{slidesPerView:3,spaceBetween:5}}}),slider.dataset.mobile="true"),window.innerWidth>1024&&(slider.dataset.mobile="false",slider.classList.contains("swiper-container-initialized")&&mySwiper.destroy())}mobileSlider(),window.addEventListener("resize",()=>{mobileSlider()});let sliderReview=new Swiper(".slider-review",{autoplay:!0,loop:!0,observer:!0,observeParents:!0,slidesPerView:1,speed:400,pagination:{el:".slider-review__dots",clickable:!0}});document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#form");function t(e){e.parentElement.classList.add("error"),e.classList.add("error")}function s(e){e.parentElement.classList.remove("error"),e.classList.remove("error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function l(e){return!/(\+7|8)[- _]*\(?[- _]*(\d{3}[- _]*\)?([- _]*\d){7}|\d\d[- _]*\d\d[- _]*\)?([- _]*\d){6})/g.test(e.value)}e.addEventListener("submit",(async function(e){e.preventDefault();!function(e){let n=document.querySelectorAll(".req");for(let e=0;e<n.length;e++){const i=n[e];s(i),i.classList.contains("email")?o(i)&&(t(i)):""===i.value&&(t(i)),i.classList.contains("tel")&&l(i)&&(t(i))}}()}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#formContact");function t(e){e.parentElement.classList.add("error"),e.classList.add("error")}function s(e){e.parentElement.classList.remove("error"),e.classList.remove("error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(e){e.preventDefault();!function(e){let l=document.querySelectorAll(".requ");for(let e=0;e<l.length;e++){const n=l[e];s(n),n.classList.contains("email")?o(n)&&(t(n)):""===n.value&&(t(n))}}()}))}));let selects=document.getElementsByTagName("select");function selects_init(){for(let e=0;e<selects.length;e++){select_init(selects[e])}document.addEventListener("click",(function(e){selects_close(e)})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&selects_close(e)}))}function selects_close(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select"))for(let e=0;e<t.length;e++){const s=t[e],o=s.querySelector(".select__options");s.classList.remove("_active"),_slideUp(o,100)}}function select_init(e){const t=e.parentElement,s=e.getAttribute("class"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),e.style.display="none",t.insertAdjacentHTML("beforeend",'<div class="select select_'+s+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),select_item(e)}function select_item(e){const t=e.parentElement,s=t.querySelector(".select__item"),o=e.querySelectorAll("option"),l=e.querySelector("option:checked").text,n=e.getAttribute("data-type");s&&s.remove();let i="";i="input"==n?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+l+'" data-error="Ошибка" data-value="'+l+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+l+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+i+'</div><div class="select__options">'+select_get_options(o)+"</div></div></div>"),select_actions(e,t)}function select_actions(e,t){const s=t.querySelector(".select__item"),o=t.querySelector(".select__options"),l=t.querySelectorAll(".select__option"),n=e.getAttribute("data-type"),i=t.querySelector(".select__input");s.addEventListener("click",(function(){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const o=e[t],l=o.querySelector(".select__options");o!=s.closest(".select")&&(o.classList.remove("_active"),_slideUp(l,100))}_slideToggle(o,100),t.classList.toggle("_active")}));for(let s=0;s<l.length;s++){const o=l[s],r=o.getAttribute("data-value"),c=o.innerHTML;"input"==n?i.addEventListener("keyup",select_search):o.getAttribute("data-value")==e.value&&(o.style.display="none"),o.addEventListener("click",(function(){for(let e=0;e<l.length;e++){l[e].style.display="block"}"input"==n?(i.value=c,e.value=r):(t.querySelector(".select__value").innerHTML="<span>"+c+"</span>",e.value=r,o.style.display="none")}))}}function select_get_options(e){if(e){let t="";for(let s=0;s<e.length;s++){const o=e[s],l=o.value;if(""!=l){t=t+'<div data-value="'+l+'" class="select__option">'+o.text+"</div>"}}return t}}function select_search(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option"),s=e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let o=t[e];(o.textContent||o.innerText).toUpperCase().indexOf(s)>-1?o.style.display="":o.style.display="none"}}function selects_update_all(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){select_item(e[t])}}selects.length>0&&selects_init();let _slideUp=(e,t=500)=>{e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideDown=(e,t=500)=>{e.style.removeProperty("display");let s=window.getComputedStyle(e).display;"none"===s&&(s="block"),e.style.display=s;let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")},t)},_slideToggle=(e,t=500)=>{if(!e.classList.contains("_slide"))return e.classList.add("_slide"),"none"===window.getComputedStyle(e).display?_slideDown(e,t):_slideUp(e,t)};function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){let e=document.querySelectorAll(".ibg");for(let t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),ibg(),AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:500,duration:400,easing:"ease",once:!0,mirror:!1,anchorPlacement:"top-bottom"});